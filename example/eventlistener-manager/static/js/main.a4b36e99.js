(()=>{"use strict";var e,t,n,s,o=((e=class e{static withVendor(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.vendors.flatMap((t=>[t+n.join(""),t+n.map((t=>e.capitalize(t))).join("")]))}static capitalize(e){return e.replace(/\b[a-z]/,(e=>e.toUpperCase()))}static get(t,n){let s=e.polyfillEventTypeMap[n];if(s){for(let e of s)if("on"+e in t)return e}else if("on"+n in t)return n}}).vendors=["","webkit","moz","ms","MS","o","O"],e.polyfillEventTypeMap={wheel:["wheel","mousewheel","DOMMouseScroll"],pointerlockchange:e.withVendor("pointer","lock","change"),pointerlockerror:e.withVendor("pointer","lock","error"),pointercancel:e.withVendor("pointer","cancel"),pointerdown:e.withVendor("pointer","down"),pointerhover:e.withVendor("pointer","hover"),pointermove:e.withVendor("pointer","move"),pointerout:e.withVendor("pointer","out"),pointerover:e.withVendor("pointer","over"),pointerup:e.withVendor("pointer","up"),lostpointercapture:e.withVendor("lost","pointer","capture"),gotpointercapture:e.withVendor("got","pointer","capture"),fullscreenchange:e.withVendor("fullscreen","change"),fullscreenerror:e.withVendor("fullscreen","error"),transitionstart:e.withVendor("transition","start"),transitionrun:e.withVendor("transition","run"),transitionend:e.withVendor("transition","end"),transitioncancel:e.withVendor("transition","cancel"),animationstart:e.withVendor("animation","start"),animationiteration:e.withVendor("animation","iteration"),animationend:e.withVendor("animation","end"),animationcancel:e.withVendor("animation","cancel")},e),a=((t=class e{static activePreventDefaultPinchGesture(){return e.isActivePreventDefaultPinchGesture?e.emptyPromise:(e.isActivePreventDefaultPinchGesture=!0,document.addEventListener("touchmove",e.preventDefault,{passive:!1}),document.addEventListener("touchstart",e.preventDefault,{passive:!1}),new Promise((async t=>{let n=document.querySelectorAll('meta[name="viewport"]');if(0===n.length){let t=document.createElement("meta");t.setAttribute("name","viewport"),t.setAttribute("content","user-scalable=no"),document.head.append(t),e.meta.set(t,{})}n.forEach((t=>{let n=t.getAttribute("content");if(n){let s=e.splitViewportContent(n);e.meta.set(t,s),s["user-scalable"]="no",t.setAttribute("content",e.joinViewportContent(s))}})),setTimeout(t)})))}static inactivePreventDefaultPinchGesture(){e.isActivePreventDefaultPinchGesture&&(e.isActivePreventDefaultPinchGesture=!1,document.removeEventListener("touchmove",e.preventDefault),document.removeEventListener("touchstart",e.preventDefault),document.querySelectorAll('meta[name="viewport"]').forEach((t=>{if(e.meta.has(t)){let n=e.meta.get(t);0===Object.keys(n).length?t.remove():t.setAttribute("content",e.joinViewportContent(n))}})))}static activePreventDefaultPanGesture(){return e.isActivePreventDefaultPanGesture?e.emptyPromise:(e.isActivePreventDefaultPanGesture=!0,new Promise((t=>{document.addEventListener("touchstart",e.preventDefault,{passive:!1}),setTimeout(t)})))}static inactivePreventDefaultPanGesture(){e.isActivePreventDefaultPanGesture&&(e.isActivePreventDefaultPanGesture=!1,document.removeEventListener("touchstart",e.preventDefault))}static activePreventDefaultSelectGesture(){return e.isActivePreventDefaultSelectGesture?e.emptyPromise:(e.isActivePreventDefaultSelectGesture=!0,document.addEventListener("touchstart",e.preventDefault,{passive:!1}),new Promise((t=>{e.getStyleSheet().insertRule("html{-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}"),setTimeout(t)})))}static inactivePreventDefaultSelectGesture(){if(e.isActivePreventDefaultSelectGesture){e.isActivePreventDefaultSelectGesture=!1,document.removeEventListener("touchstart",e.preventDefault);try{e.getStyleSheet().deleteRule(0)}catch{}}}static getStyleSheet(){if(!e.styleSheet){let t=document.createElement("style");document.head.append(t),e.styleSheet=t.sheet}return e.styleSheet}static splitViewportContent(e){return e.split(",").map((e=>{let t=e.trim().split("=");return{[t[0]]:t[1]}})).reduce(((e,t)=>Object.assign(e,t)),{})}static joinViewportContent(e){return Object.keys(e).map((t=>t+"="+e[t])).join(", ")}}).meta=new WeakMap,t.isActivePreventDefaultPinchGesture=!1,t.isActivePreventDefaultPanGesture=!1,t.isActivePreventDefaultSelectGesture=!1,t.preventDefault=e=>e.preventDefault(),t.emptyPromise=new Promise((()=>{})),t),i={mouselongpressstart:"mouselongpress",mouselongpressmove:"mouselongpress",mouselongpressend:"mouselongpress",mouselongpressleave:"mouselongpress",mousepanstart:"mousepan",mousepanmove:"mousepan",mousepanleft:"mousepan",mousepanright:"mousepan",mousepanup:"mousepan",mousepandown:"mousepan",mousepanend:"mousepan",mousepanleave:"mousepan",touchlongpressstart:"touchlongpress",touchlongpressmove:"touchlongpress",touchlongpressend:"touchlongpress",touchlongpresscancel:"touchlongpress",touchpanstart:"touchpan",touchpanmove:"touchpan",touchpanleft:"touchpan",touchpanright:"touchpan",touchpanup:"touchpan",touchpandown:"touchpan",touchpanend:"touchpan",touchpancancel:"touchpan",touchpinchstart:"touchpinch",touchpinchmove:"touchpinch",touchpinchend:"touchpinch",touchpinchcancel:"touchpinch"},r=((n=class e{static get4Direction(t){return t>=0&&t<=45?e.R:t>45&&t<=135?e.D:t>135&&t<=180||t>=-180&&t<=-135?e.L:t>-135&&t<=-45?e.U:t>-45&&t<=-0?e.R:e.Unknown}static get8Direction(t){return t>=0&&t<=22.5?e.R:t>22.5&&t<=67.5?e.DR:t>67.5&&t<=112.5?e.D:t>112.5&&t<=157.5?e.DL:t>157.5&&t<=180||t>=-180&&t<=-157.5?e.L:t>-157.5&&t<=-112.5?e.UL:t>-112.5&&t<=-67.5?e.U:t>-67.5&&t<=-22.5?e.UR:t>-22.5&&t<=-0?e.R:e.Unknown}}).U=0,n.UR=1,n.R=2,n.DR=3,n.D=4,n.DL=5,n.L=6,n.UL=7,n.Unknown=-1,n),c=class e{constructor(){this.t=window.performance.now();let e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];e instanceof MouseEvent?(this.x=e.clientX,this.y=e.clientY):e instanceof TouchEvent&&"number"==typeof t&&e.touches.length>t?(this.x=e.touches[t].clientX,this.y=e.touches[t].clientY):"number"==typeof e&&"number"==typeof t?(this.x=e,this.y=t):(this.x=NaN,this.y=NaN)}static fromMouseEvent(t){return new e(t)}static fromTouchEvent(t){return new e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}static fromCoordinate(t,n){return new e(t,n)}static center(t,n){return new e((t.x+n.x)/2,(t.y+n.y)/2)}distance(e){let t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}timeDiff(e){return Math.abs(this.t-e.t)}},u=class{constructor(e,t){this.start=e,this.end=t,this.center=c.center(e,t),this.dx=t.x-e.x,this.dy=t.y-e.y,this.distance=t.distance(e),this.time=t.t-e.t,this.speed=this.distance/this.time,this.radian=Math.atan2(this.dy,this.dx),this.degree=this.radian*(180/Math.PI),this.direction=r.get8Direction(this.degree)}equals(e){return this.start.x===e.start.x&&this.end.x===e.end.x&&this.start.y===e.start.y&&this.end.y===e.end.y}},d=class extends Array{constructor(e){super(),e.length>0&&(this.push(...e),this.first=e[0],this.last=e[this.length-1])}item(e){if(this.length>e)return this[e]}dPath(e,t){if(e<1)return;let n=this.item(e),s=this.item(e-1);if(n&&s){let e=n[t],o=s[t];if(e instanceof c&&o instanceof c)return new u(e,o)}}dNumber(e,t){if(e<1)return;let n=this.item(e),s=this.item(e-1);if(n&&s){let e=n[t],o=s[t];if("number"==typeof e&&"number"==typeof o)return o-e}}dStart(e){return this.dPath(e,"start")}dEnd(e){return this.dPath(e,"end")}dCenter(e){return this.dPath(e,"center")}dDistance(e){return this.dNumber(e,"distance")}dRadian(e){return this.dNumber(e,"radian")}dDegree(e){return this.dNumber(e,"degree")}},h=class{static clone(e){return Object.assign({},e)}},l=class extends MouseEvent{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];super(e,h.clone(t)),this.paths=new d(n)}},p=class extends TouchEvent{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];super(e,h.clone(t)),this.paths=new d(n)}};(()=>{if(typeof window<"u"&&typeof window.TouchEvent>"u"){class e extends UIEvent{constructor(e,t){super(e,t)}}window.TouchEvent=e}})();var v=new class{constructor(e){this.lastExecutionTime=0,this.scheduledTask=null,this.rafId=null,this.delayThreshold=e}scheduleTask(e){window.performance.now()-this.lastExecutionTime>=this.delayThreshold?(null!==this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=null),this.executeTask(e)):(this.scheduledTask=e,null===this.rafId&&(this.rafId=window.requestAnimationFrame((()=>this.runScheduledTask()))))}executeTask(e){this.lastExecutionTime=window.performance.now(),e()}runScheduledTask(){this.scheduledTask&&(this.executeTask(this.scheduledTask),this.scheduledTask=null,this.rafId=null)}}(5),m=(s=class e{static add(t,n,s,a){for(let i of e.toArray(n)){if(e.extendedEventKey(i))e.addExtendedEventListener(t,n,s);else{if(!o.get(t,i))continue;t.addEventListener(i,s,a)}e.storeEventListener(t,i,s)}}static extendedEventKey(e){return i[e]}static addExtendedEventListener(t,n,s){for(let o of e.toArray(n))switch(t.addEventListener(o,s),e.extendedEventKey(o)){case"mouselongpress":e.addMouseLongpressEvent(t);break;case"mousepan":e.addMousePanEvent(t);break;case"touchlongpress":e.addTouchLongpressEvent(t);break;case"touchpan":e.addTouchPanEvent(t);break;case"touchpinch":e.addTouchpinchEvent(t)}}static remove(t,n,s){let o=e.instance.generalEventInstance.get(t);if(o)if(n)e.removeEventListenerFromType(t,n,s);else{let n=o.keys(),a=n.next();for(;!a.done;){let o=a.value;e.removeEventListenerFromType(t,o,s),a=n.next()}}}static removeEventListenerFromType(t,n,s){let o=e.instance.generalEventInstance.get(t);if(o)for(let a of e.toArray(n)){let i=[],r=o.get(a);if(r){for(let n of r){let o=e.matchAndRemoveListener(t,a,s,n);o&&i.push(o)}for(let e of i)r.splice(r.indexOf(e),1);0===r.length&&o.delete(n)}0===o.size&&e.instance.generalEventInstance.delete(t);let c=e.extendedEventKey(a);if(c){let n=o.keys(),s=n.next(),a=!0;e:for(;!s.done;){let t=s.value;for(let n of e.toArray(t))if(c===e.extendedEventKey(n)){a=!1;break e}s=n.next()}a&&e.removeExtendedEvent(t,c)}}}static matchAndRemoveListener(t,n,s,o){if(!s||s===o)return e.removeEventListenerOne(t,n,o)}static removeEventListenerOne(t,n,s){var o;return t.removeEventListener(n,s),null!==(o=e.instance.generalEventInstance.get(t))&&void 0!==o&&o.delete(n),s}static storeEventListener(t,n,s){let o=[...e.getOrCreateListenerMap(t,n),s];e.getOrCreateEventListenerEventMap(t).set(n,o)}static getOrCreateListenerMap(t,n){let s=e.getOrCreateEventListenerEventMap(t),o=s.get(n);if(o)return o;{let e=[];return s.set(n,e),e}}static getOrCreateEventListenerEventMap(t){let n=e.instance.generalEventInstance.get(t);if(n)return n;{let n=new Map;return e.instance.generalEventInstance.set(t,n),n}}static getExtendedEvent(t){return e.instance.extendedEventInstance.get(t)}static addExtendedEvent(t,n,s){let o=e.getExtendedEvent(t)||{};e.instance.extendedEventInstance.set(t,{...o,[n]:s})}static hasExtendedEventImplementation(t,n){var s;return!(null===(s=e.getExtendedEvent(t))||void 0===s||!s[n])}static removeExtendedEvent(t,n){let s=e.getExtendedEvent(t);if(s){let o=s[n];if(o)for(let e in o){let n=o[e];if(n)for(let s of n)t.removeEventListener(e,s)}delete s[n],0===Object.keys(s).length&&e.instance.extendedEventInstance.delete(t)}}static addMouseLongpressEvent(t){if(!e.hasExtendedEventImplementation(t,"mouselongpress")){let n,s,o=!1,a=()=>{t.removeEventListener("mousemove",p),t.removeEventListener("mouseup",r),t.removeEventListener("mouseleave",d),s&&window.clearTimeout(s)},i=i=>{o=!0,n=c.fromMouseEvent(i),a(),t.addEventListener("mousemove",p,{passive:!1}),s=window.setTimeout((()=>{t.dispatchEvent(new l("mouselongpressstart",i)),t.removeEventListener("mouseup",a),t.removeEventListener("mouseleave",a),t.addEventListener("mouseup",r,{passive:!1}),t.addEventListener("mouseleave",d,{passive:!1})}),e.options.mouseLongpressTimeRequired)},r=e=>{n&&t.dispatchEvent(new l("mouselongpressend",e,[new u(n,c.fromMouseEvent(e))])),a()},d=e=>{n&&t.dispatchEvent(new l("mouselongpressleave",e,[new u(n,c.fromMouseEvent(e))])),a()},h=()=>{o=!1},p=s=>{if(o){if(n){let i=c.fromMouseEvent(s);n.timeDiff(i)<e.options.mouseLongpressTimeRequired&&n.distance(i)>e.options.mouseLongpressBelowDistance?a():n.timeDiff(i)>=e.options.mouseLongpressTimeRequired&&(e.options.strict?t.dispatchEvent(new l("mouselongpressmove",s,[new u(n,i)])):v.scheduleTask((()=>{o&&t.dispatchEvent(new l("mouselongpressmove",s,[new u(n,i)]))})))}}else a()};t.addEventListener("mousedown",i,{passive:!1}),t.addEventListener("mouseup",a,{passive:!1}),t.addEventListener("mouseleave",a,{passive:!1}),t.addEventListener("mouseup",h,{passive:!1}),t.addEventListener("mouseleave",h,{passive:!1}),e.addExtendedEvent(t,"mouselongpress",{mousedown:[i],mouseup:[r,h,a],mouseleave:[r,h,a],mousemove:[p]})}}static addMousePanEvent(t){if(!e.hasExtendedEventImplementation(t,"mousepan")){let n,s,o=[],a=!1,i=!1,d=()=>{o=[],a=!1,t.removeEventListener("mousemove",g),t.removeEventListener("mouseup",p),t.removeEventListener("mouseleave",m)},h=e=>{i=!0,n=c.fromMouseEvent(e),s=n,d(),t.addEventListener("mousemove",g,{passive:!1}),t.addEventListener("mouseup",p,{passive:!1}),t.addEventListener("mouseleave",m,{passive:!1})},p=e=>{a&&n&&(f(e),t.dispatchEvent(new l("mousepanend",e,[new u(n,c.fromMouseEvent(e))]))),d()},m=e=>{a&&n&&(f(e),t.dispatchEvent(new l("mousepanleave",e,[new u(n,c.fromMouseEvent(e))]))),d()},E=()=>{i=!1},f=e=>{if(n){let n,s=[];for(let e of o){n||(n=e.start);let t=new u(n,e.end);t.distance>=25&&(s.push(t),n=null)}let a=new Set(s.map((e=>r.get4Direction(e.degree))));if(1===a.size){let n;a.has(0)?n="mousepanup":a.has(2)?n="mousepanright":a.has(4)?n="mousepandown":a.has(6)&&(n="mousepanleft"),n&&t.dispatchEvent(new l(n,e,s))}}},g=r=>{if(s&&n){let n=c.fromMouseEvent(r),d=new u(s,n),h=o.length;s=n,0===h&&d.distance>0&&t.dispatchEvent(new l("mousepanstart",r,o)),d.distance>0&&(a=!0,o.push(d),e.options.strict?t.dispatchEvent(new l("mousepanmove",r,o)):v.scheduleTask((()=>{i&&t.dispatchEvent(new l("mousepanmove",r,o))})))}};t.addEventListener("mousedown",h,{passive:!1}),t.addEventListener("mouseup",E,{passive:!1}),t.addEventListener("mouseleave",E,{passive:!1}),e.addExtendedEvent(t,"mousepan",{mousedown:[h],mouseup:[p,E],mouseleave:[m,E],mousemove:[g]})}}static addTouchLongpressEvent(t){if(!e.hasExtendedEventImplementation(t,"touchlongpress")){let n,s,o,i=!1,r=!1,d=()=>{i=!1,t.removeEventListener("touchmove",f),t.removeEventListener("touchend",l),t.removeEventListener("touchcancel",m),o&&window.clearTimeout(o)},h=u=>{u instanceof TouchEvent&&1===u.touches.length?a.activePreventDefaultSelectGesture().then((()=>{r=!0,n=c.fromTouchEvent(u,0),s=n,d(),t.addEventListener("touchmove",f,{passive:!1}),o=window.setTimeout((()=>{r&&(i=!0,t.dispatchEvent(new p("touchlongpressstart",u)),t.removeEventListener("touchend",d),t.removeEventListener("touchcancel",d),t.addEventListener("touchend",l,{passive:!1}),t.addEventListener("touchcancel",m,{passive:!1}))}),e.options.touchLongpressTimeRequired)})):i?m(u):d()},l=e=>{n&&s&&t.dispatchEvent(new p("touchlongpressend",e,[new u(n,s)])),d()},m=e=>{n&&s&&t.dispatchEvent(new p("touchlongpresscancel",e,[new u(n,s)])),d()},E=()=>{r=!1,a.inactivePreventDefaultSelectGesture()},f=o=>{if(o instanceof TouchEvent&&1===o.touches.length){if(!r)return void d();if(n){let a=c.fromTouchEvent(o,0);if(n.timeDiff(a)<e.options.touchLongpressTimeRequired&&n.distance(a)>e.options.touchLongpressBelowDistance)d();else if(n.timeDiff(a)>=e.options.touchLongpressTimeRequired&&s){let a=c.fromTouchEvent(o,0);new u(s,a).distance>0&&(e.options.strict?t.dispatchEvent(new p("touchlongpressmove",o,[new u(n,a)])):v.scheduleTask((()=>{r&&t.dispatchEvent(new p("touchlongpressmove",o,[new u(n,a)]))})))}s=a}}},g=e=>e.preventDefault();t.addEventListener("contextmenu",g,{passive:!1}),t.addEventListener("touchstart",h,{passive:!1}),t.addEventListener("touchend",d,{passive:!1}),t.addEventListener("touchcancel",d,{passive:!1}),t.addEventListener("touchend",E,{passive:!1}),t.addEventListener("touchcancel",E,{passive:!1}),e.addExtendedEvent(t,"touchlongpress",{contextmenu:[g],touchstart:[h],touchend:[l,E,d],touchcancel:[m,E,d],touchmove:[f]})}}static addTouchPanEvent(t){if(!e.hasExtendedEventImplementation(t,"touchpan")){let n,s,o=[],i=!1,d=!1,h=()=>{o=[],i=!1,t.removeEventListener("touchmove",L),t.removeEventListener("touchend",E),t.removeEventListener("touchcancel",f)},m=e=>{e instanceof TouchEvent&&1===e.touches.length?a.activePreventDefaultPanGesture().then((()=>{d=!0,n=c.fromTouchEvent(e,0),s=n,h(),t.addEventListener("touchmove",L,{passive:!1}),t.addEventListener("touchend",E,{passive:!1}),t.addEventListener("touchcancel",f,{passive:!1})})):i&&f(e)},E=e=>{i&&n&&s&&(w(e),t.dispatchEvent(new p("touchpanend",e,[new u(n,s)]))),h()},f=e=>{i&&n&&s&&t.dispatchEvent(new p("touchpancancel",e,[new u(n,s)])),h()},g=()=>{d=!1,a.inactivePreventDefaultPanGesture()},w=e=>{if(n){let n,s=[];for(let e of o){n||(n=e.start);let t=new u(n,e.end);t.distance>=25&&(s.push(t),n=null)}let a=new Set(s.map((e=>r.get4Direction(e.degree))));if(1===a.size){let n;a.has(0)?n="touchpanup":a.has(2)?n="touchpanright":a.has(4)?n="touchpandown":a.has(6)&&(n="touchpanleft"),n&&t.dispatchEvent(new l(n,e,s))}}},L=a=>{if(a instanceof TouchEvent&&1===a.touches.length&&s&&n){let n=c.fromTouchEvent(a,0),r=new u(s,n),h=o.length;s=n,0===h&&r.distance>0&&t.dispatchEvent(new p("touchpanstart",a,o)),r.distance>0&&(i=!0,o.push(r),e.options.strict?t.dispatchEvent(new p("touchpanmove",a,o)):v.scheduleTask((()=>{d&&t.dispatchEvent(new p("touchpanmove",a,o))})))}},y=e=>e.preventDefault();t.addEventListener("contextmenu",y,{passive:!1}),t.addEventListener("touchstart",m,{passive:!1}),t.addEventListener("touchend",g,{passive:!1}),t.addEventListener("touchcancel",g,{passive:!1}),e.addExtendedEvent(t,"touchpan",{contextmenu:[y],touchstart:[m],touchend:[E,g],touchcancel:[f,g],touchmove:[L]})}}static addTouchpinchEvent(t){if(!e.hasExtendedEventImplementation(t,"touchpinch")){let n,s=[],o=[],i=[],r=!1,d=!1,h=()=>{s=[],o=[],i=[],r=!1,t.removeEventListener("touchmove",g),t.removeEventListener("touchend",m),t.removeEventListener("touchcancel",E),a.inactivePreventDefaultPinchGesture()},l=e=>{e instanceof TouchEvent&&e.touches.length>1&&a.activePreventDefaultPinchGesture().then((()=>{let a=e.touches.length;d=!0,h();for(let t=0;t<a;t++)s.push(c.fromTouchEvent(e,t));o=s,n=new u(s[0],s[1]),t.addEventListener("touchmove",g,{passive:!1}),t.addEventListener("touchend",m,{passive:!1}),t.addEventListener("touchcancel",E,{passive:!1})}))},m=e=>{r&&s&&o&&t.dispatchEvent(new p("touchpinchend",e,[new u(c.center(s[0],s[1]),c.center(o[0],o[1]))])),h()},E=e=>{r&&s&&o&&t.dispatchEvent(new p("touchpinchcancel",e,[new u(c.center(s[0],s[1]),c.center(o[0],o[1]))])),h()},f=()=>{d=!1,a.inactivePreventDefaultPinchGesture()},g=a=>{if(o.length>1&&s.length>1&&n&&a instanceof TouchEvent&&a.touches.length>1){let s=a.touches.length,h=[],l=[],m=i.length;for(let e=0;e<s;e++){let t=c.fromTouchEvent(a,e);h.push(t),l.push(new u(t,h[e]))}let E=new u(h[0],h[1]);o=h,0===m&&!n.equals(E)&&t.dispatchEvent(new p("touchpinchstart",a,i)),(0!==m||!n.equals(E))&&!(m>0&&i[m-1].equals(E))&&(r=!0,i.push(E),e.options.strict?t.dispatchEvent(new p("touchpinchmove",a,i)):v.scheduleTask((()=>{d&&t.dispatchEvent(new p("touchpinchmove",a,i))})))}},w=e=>e.preventDefault();t.addEventListener("contextmenu",w,{passive:!1}),t.addEventListener("touchstart",l,{passive:!1}),t.addEventListener("touchend",f,{passive:!1}),t.addEventListener("touchcancel",f,{passive:!1}),e.addExtendedEvent(t,"touchpinch",{contextmenu:[w],touchstart:[l],touchend:[m,f],touchcancel:[E,f],touchmove:[g]})}}static toArray(e){return Array.isArray(e)?e:[e]}},s.instance={generalEventInstance:new WeakMap,extendedEventInstance:new WeakMap},s.options={strict:!0,mouseLongpressTimeRequired:750,mouseLongpressBelowDistance:15,touchLongpressTimeRequired:750,touchLongpressBelowDistance:30},s.passiveSupported=!1,s.onceSupported=!1,s);!function(){try{let e=()=>{},t=Object.create({},{passive:{get(){m.passiveSupported=!0}},once:{get(){m.onceSupported=!0}}});window.addEventListener("test",e,t),window.removeEventListener("test",e,t)}catch{}}(),window.EventManager=m,window.ExtendedMouseEvent=l,window.ExtendedTouchEvent=p,window.PathDirection=r,window.EventPosition=c,window.EventPath=u,window.EventPathList=d;let E=document.querySelector(".gesture");const f=document.querySelector(".gesture-log"),g=document.querySelector(".gesture-obj-wrapper"),w=document.querySelector(".gesture-obj"),L={mousepanmove:"c1",mousepanleft:"c2",mousepanright:"c3",mousepanup:"c4",mousepandown:"c5",mousepanend:"c6",mousepanleave:"c7",mouselongpressmove:"c8",mouselongpressend:"c9",mouselongpressleave:"c10",touchpanmove:"c1",touchpanleft:"c2",touchpanright:"c3",touchpanup:"c4",touchpandown:"c5",touchpanend:"c6",touchpanleave:"c7",touchlongpressmove:"c8",touchlongpressend:"c9",touchlongpressleave:"c10",touchpinchstart:"c11",touchpinchmove:"c20",touchpinchend:"c13",touchpinchcancel:"c14"},y=e=>{const t=f,n=e.type;if(t.getAttribute("relate")===n){var s;const e=t.querySelectorAll("div"),o=e[e.length-1],a=parseInt(null!==(s=o.getAttribute("cnt"))&&void 0!==s?s:"1");o.innerHTML=n+" "+(a+1),o.setAttribute("cnt",String(a+1))}else t.innerHTML+="<div>"+n+"</div>",t.setAttribute("relate",n);if(e instanceof p||e instanceof l){const t=E.getBoundingClientRect(),n=parseFloat(getComputedStyle(E).borderWidth),s=t.width-2*n,r=t.height-2*n,c=e.type;if("mousepanleft"===c||"touchpanleft"===c){const e="left"+(new Date).getTime();g.classList.add(e),setTimeout((()=>g.classList.remove(e)),1e3)}if("mousepanright"===c||"touchpanright"===c){const e="right"+(new Date).getTime();g.classList.add(e),setTimeout((()=>g.classList.remove(e)),1e3)}if("mousepanup"===c||"touchpanup"===c){const e="up"+(new Date).getTime();g.classList.add(e),setTimeout((()=>g.classList.remove(e)),1e3)}if("mousepandown"===c||"touchpandown"===c){const e="down"+(new Date).getTime();g.classList.add(e),setTimeout((()=>g.classList.remove(e)),1e3)}if("touchlongpressstart"!==c&&"mouselongpressstart"!==c||g.classList.add("longpress"),"mouselongpressend"!==c&&"mouselongpressleave"!==c&&"touchlongpressend"!==c&&"touchlongpresscancel"!==c||g.classList.remove("longpress"),"touchpanmove"===c||"mousepanmove"===c){const t=e.paths.last;t&&(g.style.left=Math.min(s,Math.max(0,parseFloat(getComputedStyle(g).left)+t.dx))+"px",g.style.top=Math.min(r,Math.max(0,parseFloat(getComputedStyle(g).top)+t.dy))+"px")}if("touchpinchmove"===c){const t=e.paths.first,n=e.paths.last;if(t&&n){var o,a;const e=null===(o=getComputedStyle(g).transform.match(/matrix\(([^)]+)\)/))||void 0===o||null===(a=o[1].split(","))||void 0===a?void 0:a[0].trim();if(e){const s=Math.min(3,Math.max(.33,parseFloat(e)+(n.distance/t.distance-1)/3));g.style.transform="matrix("+s+", 0, 0, "+s+", -25, -25)"}}const c=e.paths.dCenter(e.paths.length-1);c&&(g.style.left=Math.min(s,Math.max(0,parseFloat(getComputedStyle(g).left)-c.dx))+"px",g.style.top=Math.min(r,Math.max(0,parseFloat(getComputedStyle(g).top)-c.dy))+"px");const u=e.paths.dDegree(e.paths.length-1);if(u){var i;const e=null===(i=w.style.transform.match(/rotate\(([^)]+)deg\)/))||void 0===i?void 0:i[1];w.style.transform="rotate("+(Number(e||0)-u)+"deg)"}}const u=t.x,d=t.y;(c.includes("move")?e.paths.slice(-5):e.paths).forEach((t=>{const n=e.type,s=L[n],o=t.degree>-90&&t.degree<=-0||t.degree>=90&&t.degree<180?"left":"right",a=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div");if(a.classList.add("line"),a.classList.add(s),a.classList.add(o),a.style.left=Math.min(t.start.x-15,t.end.x-15)-u+"px",a.style.top=Math.min(t.start.y-15,t.end.y-15)-d+"px",a.style.width=Math.max(1,Math.abs(t.dx))+"px",a.style.height=Math.max(1,Math.abs(t.dy))+"px",a.id="line-"+c,i.classList.add("dot"),i.classList.add(s),i.style.left=t.start.x-15-u+"px",i.style.top=t.start.y-15-d+"px",i.id="dot1-"+c,r.classList.add("dot"),r.classList.add(s),r.style.left=t.end.x-15-u+"px",r.style.top=t.end.y-15-d+"px",r.id="dot2-"+c,"touchpinchmove"===c){const e=document.createElement("div");e.classList.add("circle"),e.style.left=t.center.x-15-u+"px",e.style.top=t.center.y-15-d+"px",e.style.width=t.distance/2+"px",e.style.height=t.distance/2+"px",e.id="circle-"+c,E.appendChild(e),setTimeout((()=>{e.remove()}),250)}E.appendChild(a),E.appendChild(i),E.appendChild(r),setTimeout((()=>{a.remove(),i.remove(),r.remove()}),c.includes("move")?250:1e3)}))}f.scrollTop=f.scrollHeight},x=document.querySelector("#mouselongpress"),T=document.querySelector("#mousepan"),D=document.querySelector("#touchlongpress"),P=document.querySelector("#touchpan"),M=document.querySelector("#touchpinch"),S=document.querySelector("#strict");x.onchange=e=>{e.target.checked?m.add(E,["mouselongpressstart","mouselongpressend","mouselongpressmove","mouselongpressleave"],y,{passive:!1}):m.remove(E,["mouselongpressstart","mouselongpressend","mouselongpressmove","mouselongpressleave"])},T.onchange=e=>{e.target.checked?m.add(E,["mousepanstart","mousepanmove","mousepanleft","mousepanright","mousepanup","mousepandown","mousepanend","mousepanleave"],y,{passive:!1}):m.remove(E,["mousepanstart","mousepanmove","mousepanleft","mousepanright","mousepanup","mousepandown","mousepanend","mousepanleave"])},D.onchange=e=>{e.target.checked?m.add(E,["touchlongpressstart","touchlongpressend","touchlongpressmove","touchlongpresscancel"],y,{passive:!1}):m.remove(E,["touchlongpressstart","touchlongpressend","touchlongpressmove","touchlongpresscancel"])},P.onchange=e=>{e.target.checked?m.add(E,["touchpanstart","touchpanmove","touchpanleft","touchpanright","touchpanup","touchpandown","touchpanend","touchpancancel"],y,{passive:!1}):m.remove(E,["touchpanstart","touchpanmove","touchpanleft","touchpanright","touchpanup","touchpandown","touchpanend","touchpancancel"])},M.onchange=e=>{e.target.checked?m.add(E,["touchpinchstart","touchpinchmove","touchpinchend","touchpinchcancel"],y,{passive:!1}):m.remove(E,["touchpinchstart","touchpinchmove","touchpinchend","touchpinchcancel"])},S.onchange=e=>{const t=e.target;m.options.strict=t.checked};document.getElementById("root")})();
//# sourceMappingURL=main.a4b36e99.js.map